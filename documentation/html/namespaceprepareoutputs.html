<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CLASSIC: prepareoutputs Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
   <div id="projectbrief">Canadian Land Surface Scheme including Biogeochemical Cycles</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceprepareoutputs.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">prepareoutputs Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Central module that handles all preparation and writing to output files.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a18c24a70d604520e0f2a34a2a7153472"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#a18c24a70d604520e0f2a34a2a7153472">class_daily_aw</a> (lonLocalIndex, latLocalIndex, iday, nltest, nmtest, ncount, nday, lastDOY, realyr)</td></tr>
<tr class="memdesc:a18c24a70d604520e0f2a34a2a7153472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumlates and writes the daily physics variables. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a daily value. The pointer to the daily data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls.  <a href="#a18c24a70d604520e0f2a34a2a7153472">More...</a><br /></td></tr>
<tr class="separator:a18c24a70d604520e0f2a34a2a7153472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:af363dbf48f4618d1adcb1e5fa1161c6c"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#af363dbf48f4618d1adcb1e5fa1161c6c">class_hh_w</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, ncount, nday, iday, realyr)</td></tr>
<tr class="memdesc:af363dbf48f4618d1adcb1e5fa1161c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares and writes the CLASS (physics) half hourly file.  <a href="#af363dbf48f4618d1adcb1e5fa1161c6c">More...</a><br /></td></tr>
<tr class="separator:af363dbf48f4618d1adcb1e5fa1161c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ad6787b79a64921237e744e2f49e2f913"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#ad6787b79a64921237e744e2f49e2f913">class_monthly_aw</a> (lonLocalIndex, latLocalIndex, IDAY, realyr, NCOUNT, NDAY, nltest, nmtest, lastDOY)</td></tr>
<tr class="memdesc:ad6787b79a64921237e744e2f49e2f913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the monthly physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls.  <a href="#ad6787b79a64921237e744e2f49e2f913">More...</a><br /></td></tr>
<tr class="separator:ad6787b79a64921237e744e2f49e2f913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a51e741e1f96716eabe956fc291d94177"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#a51e741e1f96716eabe956fc291d94177">class_annual_aw</a> (lonLocalIndex, latLocalIndex, IDAY, realyr, NCOUNT, NDAY, nltest, nmtest, lastDOY)</td></tr>
<tr class="memdesc:a51e741e1f96716eabe956fc291d94177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the annual physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce annuals values. The pointer to the annual data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls.  <a href="#a51e741e1f96716eabe956fc291d94177">More...</a><br /></td></tr>
<tr class="separator:a51e741e1f96716eabe956fc291d94177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ac66d6ab41c34a5b67898a0692c2f58d1"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#ac66d6ab41c34a5b67898a0692c2f58d1">convertunitsctem</a> (nltest, nmtest)</td></tr>
<tr class="memdesc:ac66d6ab41c34a5b67898a0692c2f58d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do some unit conversions for CTEM (biogeochemical processes) so they are ready to be written out.  <a href="#ac66d6ab41c34a5b67898a0692c2f58d1">More...</a><br /></td></tr>
<tr class="separator:ac66d6ab41c34a5b67898a0692c2f58d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a8fa1c2a12397238a1a32b796551ecc66"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#a8fa1c2a12397238a1a32b796551ecc66">ctem_daily_aw</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, iday, ncount, nday, realyr, grclarea, ipeatlandrow)</td></tr>
<tr class="memdesc:a8fa1c2a12397238a1a32b796551ecc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write the daily biogeochemical outputs.  <a href="#a8fa1c2a12397238a1a32b796551ecc66">More...</a><br /></td></tr>
<tr class="separator:a8fa1c2a12397238a1a32b796551ecc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a4be038dcf93a44466ab9f60f232b9b03"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#a4be038dcf93a44466ab9f60f232b9b03">ctem_monthly_aw</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, iday, realyr, nday, lastDOY)</td></tr>
<tr class="memdesc:a4be038dcf93a44466ab9f60f232b9b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the monthly CTEM outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="namespacectem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls.  <a href="#a4be038dcf93a44466ab9f60f232b9b03">More...</a><br /></td></tr>
<tr class="separator:a4be038dcf93a44466ab9f60f232b9b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:abb8ffec344831a43919578de7b7d25c2"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprepareoutputs.html#abb8ffec344831a43919578de7b7d25c2">ctem_annual_aw</a> (lonLocalIndex, latLocalIndex, iday, realyr, nltest, nmtest, lastDOY)</td></tr>
<tr class="memdesc:abb8ffec344831a43919578de7b7d25c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the annual biogeochemical (CTEM) outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce annual values. The pointer to the annual data structures (in <a class="el" href="namespacectem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls.  <a href="#abb8ffec344831a43919578de7b7d25c2">More...</a><br /></td></tr>
<tr class="separator:abb8ffec344831a43919578de7b7d25c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Central module that handles all preparation and writing to output files. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a51e741e1f96716eabe956fc291d94177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e741e1f96716eabe956fc291d94177">&#9670;&nbsp;</a></span>class_annual_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::class_annual_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>IDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NCOUNT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the annual physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce annuals values. The pointer to the annual data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>
<p>Accumulate output data for yearly averaged fields for class grid-mean. for both parallel mode and stand alone mode</p>
<p>ADD INITIALIZTION FOR YEARLY ACCUMULATED ARRAYS</p>
<p>IDAY.EQ.365/366 .AND. NDAY </p>

</div>
</div>
<a id="a18c24a70d604520e0f2a34a2a7153472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c24a70d604520e0f2a34a2a7153472">&#9670;&nbsp;</a></span>class_daily_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::class_daily_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumlates and writes the daily physics variables. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a daily value. The pointer to the daily data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>

</div>
</div>
<a id="af363dbf48f4618d1adcb1e5fa1161c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af363dbf48f4618d1adcb1e5fa1161c6c">&#9670;&nbsp;</a></span>class_hh_w()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::class_hh_w </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares and writes the CLASS (physics) half hourly file. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>

</div>
</div>
<a id="ad6787b79a64921237e744e2f49e2f913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6787b79a64921237e744e2f49e2f913">&#9670;&nbsp;</a></span>class_monthly_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::class_monthly_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>IDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NCOUNT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the monthly physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="namespaceclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>
<p>Accumulate output data for monthly averaged fields for class grid-mean. for both parallel mode and stand alone mode </p>

</div>
</div>
<a id="ac66d6ab41c34a5b67898a0692c2f58d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66d6ab41c34a5b67898a0692c2f58d1">&#9670;&nbsp;</a></span>convertunitsctem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::convertunitsctem </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do some unit conversions for CTEM (biogeochemical processes) so they are ready to be written out. </p>
<p>Some unit conversions:</p>
<p>Now for the bare fraction of the grid cell. </p>

</div>
</div>
<a id="abb8ffec344831a43919578de7b7d25c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb8ffec344831a43919578de7b7d25c2">&#9670;&nbsp;</a></span>ctem_annual_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::ctem_annual_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the annual biogeochemical (CTEM) outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce annual values. The pointer to the annual data structures (in <a class="el" href="namespacectem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>
<p>Accumulate yearly outputs</p>
<p>Accumulate the variables at the per PFT level</p>
<p>Also do the bare fraction amounts</p>
<p>Accumulate the variables at the per tile level</p>
<p>The pools are looked at just at the end of the year.</p>
<p>Add values to the per tile vars</p>
<p>Add values to the per gridcell vars</p>
<p>Write to annual output files:</p>
<p>First write out the per gridcell values</p>
<p>Write out the per tile values</p>
<p>Reset all annual vars in preparation for next year </p>

</div>
</div>
<a id="a8fa1c2a12397238a1a32b796551ecc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa1c2a12397238a1a32b796551ecc66">&#9670;&nbsp;</a></span>ctem_daily_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::ctem_daily_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>grclarea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>ipeatlandrow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write the daily biogeochemical outputs. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>
<p>Aggregate to the tile avg vars:</p>
<p>Do the bare ground also:</p>
<p>Calculation of grid averaged variables</p>
<p>Write grid average values </p>

</div>
</div>
<a id="a4be038dcf93a44466ab9f60f232b9b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be038dcf93a44466ab9f60f232b9b03">&#9670;&nbsp;</a></span>ctem_monthly_aw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public prepareoutputs::ctem_monthly_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the monthly CTEM outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="namespacectem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls. </p>
<dl class="section author"><dt>Author</dt><dd>J. Melton </dd></dl>
<hr/>
<p>Accumulate monthly outputs</p>
<p>Accumulate monthly outputs at the per PFT level.</p>
<p>Also do the bare ground</p>
<p>Accumulate monthly outputs at the per tile level.</p>
<p>Do the mid-month variables (these are not accumulated, we just keep the mid month value for printing in the monthly file)</p>
<p>Do the bare fraction too</p>
<p>Now find the per tile values:</p>
<p>Also add in the bare fraction contributions.</p>
<p>Now find the gridcell level values:</p>
<p>Do the end of month variables</p>
<p>Convert some quantities into per day values</p>
<p>Find the monthly outputs at the per tile level from the outputs at the per PFT level</p>
<p>Find the monthly outputs at the per grid cell level from the outputs at the per tile level</p>
<p>Reset all end of month accumulated arrays </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceprepareoutputs.html">prepareoutputs</a></li>
    <li class="footer">Generated on Fri Jan 18 2019 12:01:32 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
