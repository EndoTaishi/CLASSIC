<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CLASSIC: turnover Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
   <div id="projectbrief">Canadian Land Surface Scheme including Biogeochemical Cycles</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceturnover.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">turnover Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The turnover of stem and root components is modelled via their PFT-dependent specified lifetimes. The litter generation ( <img class="formulaInl" alt="$kg\,C\,m^{-2}$" src="form_492.png"/> <img class="formulaInl" alt="$day^{-1}$" src="form_437.png"/>) associated with turnover of stem ( <img class="formulaInl" alt="$D_\mathrm{S}$" src="form_1462.png"/>) and root ( <img class="formulaInl" alt="$D_\mathrm{R}$" src="form_1463.png"/>) components is calculated based on the amount of biomass in the respective components ( <img class="formulaInl" alt="$C_\mathrm{S}, C_\mathrm{R}$" src="form_1464.png"/>; <img class="formulaInl" alt="$kg\,C\,m^{-2}$" src="form_492.png"/>) and their respective turnover timescales ( <img class="formulaInl" alt="$\tau_\mathrm{S}$" src="form_1465.png"/> and <img class="formulaInl" alt="$\tau_\mathrm{R}$" src="form_1466.png"/>; <img class="formulaInl" alt="$yr$" src="form_1003.png"/>; see also <a class="el" href="classic__params_8f90.html" title="This module holds CLASSIC globally accessible parameters. ">classic_params.f90</a>) as </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \label{citod} D_{i} = C_{i}\left[1 - \exp\left(-\frac{1}{365\,\tau_{i}}\right)\right],\quad i = S, R.\]" src="form_1467.png"/>
</p>
<p> Litter contributions are either put in the first soil layer (leaf and stem litter) whereas root litter is added in proportion to the root distribution to non-perennially frozen soil layers. For defining which layers are frozen, we use the active layer depth.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a7868c3883698c1fc94f95a74111c5804"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceturnover.html#a7868c3883698c1fc94f95a74111c5804">updatepoolsturnover</a> (il1, il2, ilg, reprocost, rmatctem, stemmass, rootmass, litrmass, rootlitr, gleafmas, bleafmas, leaflitr, stemlitr)</td></tr>
<tr class="memdesc:a7868c3883698c1fc94f95a74111c5804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update green leaf biomass for trees and crops, brown leaf biomass for grasses, stem and root biomass for litter deductions, and update litter pool with leaf litter calculated in the phenology subroutine and stem and root litter calculated in the turnover subroutine. Also add the reproduction carbon directly to the litter pool.  <a href="#a7868c3883698c1fc94f95a74111c5804">More...</a><br /></td></tr>
<tr class="separator:a7868c3883698c1fc94f95a74111c5804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a671d52dc9ffb402a00e952db68fff5ef"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceturnover.html#a671d52dc9ffb402a00e952db68fff5ef">turnoverstemroot</a> (stemmass, rootmass, lfstatus, ailcg, il1, il2, ilg, leapnow, sort, fcancmx, stmhrlos, rothrlos, stemlitr, rootlitr)</td></tr>
<tr class="memdesc:a671d52dc9ffb402a00e952db68fff5ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the litter generated from stem and root turnover.  <a href="#a671d52dc9ffb402a00e952db68fff5ef">More...</a><br /></td></tr>
<tr class="separator:a671d52dc9ffb402a00e952db68fff5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The turnover of stem and root components is modelled via their PFT-dependent specified lifetimes. The litter generation ( <img class="formulaInl" alt="$kg\,C\,m^{-2}$" src="form_492.png"/> <img class="formulaInl" alt="$day^{-1}$" src="form_437.png"/>) associated with turnover of stem ( <img class="formulaInl" alt="$D_\mathrm{S}$" src="form_1462.png"/>) and root ( <img class="formulaInl" alt="$D_\mathrm{R}$" src="form_1463.png"/>) components is calculated based on the amount of biomass in the respective components ( <img class="formulaInl" alt="$C_\mathrm{S}, C_\mathrm{R}$" src="form_1464.png"/>; <img class="formulaInl" alt="$kg\,C\,m^{-2}$" src="form_492.png"/>) and their respective turnover timescales ( <img class="formulaInl" alt="$\tau_\mathrm{S}$" src="form_1465.png"/> and <img class="formulaInl" alt="$\tau_\mathrm{R}$" src="form_1466.png"/>; <img class="formulaInl" alt="$yr$" src="form_1003.png"/>; see also <a class="el" href="classic__params_8f90.html" title="This module holds CLASSIC globally accessible parameters. ">classic_params.f90</a>) as </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \label{citod} D_{i} = C_{i}\left[1 - \exp\left(-\frac{1}{365\,\tau_{i}}\right)\right],\quad i = S, R.\]" src="form_1467.png"/>
</p>
<p> Litter contributions are either put in the first soil layer (leaf and stem litter) whereas root litter is added in proportion to the root distribution to non-perennially frozen soil layers. For defining which layers are frozen, we use the active layer depth. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a671d52dc9ffb402a00e952db68fff5ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671d52dc9ffb402a00e952db68fff5ef">&#9670;&nbsp;</a></span>turnoverstemroot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public turnover::turnoverstemroot </td>
          <td>(</td>
          <td class="paramtype">real, dimension(ilg,icc), intent(in)&#160;</td>
          <td class="paramname"><em>stemmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(in)&#160;</td>
          <td class="paramname"><em>rootmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(ilg,icc), intent(in)&#160;</td>
          <td class="paramname"><em>lfstatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(in)&#160;</td>
          <td class="paramname"><em>ailcg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ilg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>leapnow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(icc), intent(in)&#160;</td>
          <td class="paramname"><em>sort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(in)&#160;</td>
          <td class="paramname"><em>fcancmx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(inout)&#160;</td>
          <td class="paramname"><em>stmhrlos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(inout)&#160;</td>
          <td class="paramname"><em>rothrlos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(out)&#160;</td>
          <td class="paramname"><em>stemlitr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc), intent(out)&#160;</td>
          <td class="paramname"><em>rootlitr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the litter generated from stem and root turnover. </p>
<dl class="section author"><dt>Author</dt><dd>Vivek Arora and Joe Melton</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">il1</td><td>il1=1</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">il2</td><td>il2=ilg</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lfstatus</td><td>leaf status. an integer indicating if leaves are in "max.  
 growth", "normal growth", "fall/harvest", or "no leaves" mode. see phenolgy subroutine for more details.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">leapnow</td><td>true if this year is a leap year. Only used if the switch 'leap' is true.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sort</td><td>index for correspondence between ctem pfts and size of parameter vectors</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stemmass</td><td>stem mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootmass</td><td>root mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ailcg</td><td>green or live lai</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fcancmx</td><td>max. fractional coverage of CTEM pfts, but this can be modified by land-use change, and competition between pfts</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rothrlos</td><td>root death for crops. when in "harvest" mode for crops, root is assumed to die in a similar way as stem is harvested.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stmhrlos</td><td>stem harvest loss for crops. when in "harvest" mode for crops, stem is also assumed to be harvested and this generates litter.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stemlitr</td><td>stem litter <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rootlitr</td><td>root litter <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/> </td></tr>
  </table>
  </dd>
</dl>
<p>Calculate normal stem and root litter using the amount of stem and root biomass and their turnover time scales.</p>
<p>If crops are in harvest mode then we start harvesting stem as well. If stem has already been harvested then we set the stem harvest loss equal to zero. the roots of the crop die in a similar way.</p>
<p>add stem and root litter from all sources </p>

</div>
</div>
<a id="a7868c3883698c1fc94f95a74111c5804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7868c3883698c1fc94f95a74111c5804">&#9670;&nbsp;</a></span>updatepoolsturnover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public turnover::updatepoolsturnover </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ilg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>reprocost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:,:), intent(in)&#160;</td>
          <td class="paramname"><em>rmatctem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>stemmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>rootmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>litrmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>rootlitr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>gleafmas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>bleafmas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>leaflitr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>stemlitr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update green leaf biomass for trees and crops, brown leaf biomass for grasses, stem and root biomass for litter deductions, and update litter pool with leaf litter calculated in the phenology subroutine and stem and root litter calculated in the turnover subroutine. Also add the reproduction carbon directly to the litter pool. </p>
<dl class="section author"><dt>Author</dt><dd>Vivek Arora and Joe Melton</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">il1</td><td>il1=1</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">il2</td><td>il2=ilg (no. of grid cells in latitude circle)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ilg</td><td>no. of grid cells/tiles in latitude circle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reprocost</td><td>Cost of making reproductive tissues, only non-zero when NPP is positive ( <img class="formulaInl" alt="$\mu mol CO_2 m^{-2} s^{-1}$" src="form_1671.png"/>)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rmatctem</td><td>fraction of roots for each of ctem's 9 pfts in each soil layer</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rootmass</td><td>root mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">gleafmas</td><td>green leaf mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bleafmas</td><td>brown leaf mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stemmass</td><td>stem mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">litrmass</td><td>litter mass for each of the ctem pfts, <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">leaflitr</td><td>leaf litter <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rootlitr</td><td>root litter <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stemlitr</td><td>stem litter <img class="formulaInl" alt="$(kg C/m^2)$" src="form_1670.png"/> </td></tr>
  </table>
  </dd>
</dl>
<p>Update stem and root biomass for litter deductions</p>
<p>Update litter pool with leaf litter calculated in the phenology subroutine and stem and root litter calculated in the turnover subroutine. Also add the reproduction carbon directly to the litter pool </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceturnover.html">turnover</a></li>
    <li class="footer">Generated on Thu Apr 11 2019 11:13:45 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
