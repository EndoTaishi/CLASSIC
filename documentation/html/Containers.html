<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CLASSIC: Singularity Containers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
   <div id="projectbrief">Canadian Land Surface Scheme including Biogeochemical Cycles</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Containers.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Singularity Containers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>This is from Ed Wisernig. It needs editing before being added to a repo</b></p>
<h1>What are containers?</h1>
<p>A recent journal paper describes containers as "a software-based packaging and distribution tool that collects all elements and dependencies of a Linux-based application. Containers store the runtime environment together with one or more applications for ease of transportation, installation, and execution across a variety of operating systems (Linux, Mac, Windows)." (for more information, please see the References section) Docker is the container type we will be using. Singularity is the platform that will allow us to build, run or shell into one of these Docker containers.</p>
<p>For example, in order to run CLASSIC model, we need several specific tools such as compilers (GNU, Intel etc.), libraries (MPI, NetCDF etc.) that have to be present on our machine to be able to run the model. If, however, we use containers instead, then we simply access the model through a container, a process that eliminates the cumbersome and time consuming process of installing all of these compilers and libraries locally.</p>
<p>Another significant advantage is that the version of these libraries is "frozen" in the container. For example, we could have a container with the library versions at the time of a major model release version. So, even several years later, we can run the model with the original intended library versions.</p>
<h1>How to use Singularity containers?</h1>
<p>In order to use Singularity containers, one must first make certain that a local installation of Singularity is available.</p>
<p>On a Linux machine (Ubuntu in our particular case) one may use the following command to install singularity.</p>
<p><code>sudo apt install singularity-container</code></p>
<p>Please see this link for more detailed instructions on how to set up Singularity on Mac and Windows:</p>
<p><a href="http://singularity.lbl.gov/singularity-tutorial">http://singularity.lbl.gov/singularity-tutorial</a></p>
<h1>Hello World</h1>
<p>Once singularity has been installed, let's try out a simple hello world example:</p>
<p><code>singularity run shub://vsoch/hello-world</code></p>
<p>As we can see in the above example,</p>
<h1>Creating Singularity containers</h1>
<p>On Linux, the easiest way to install singularity is by using the standard repo:</p>
<p><code>sudo apt-get install -y singularity-container</code></p>
<p>Then, download our container: <b>FLAG need to make our own</b></p>
<p><code>singularity pull shub://eduardwisernig/testSingularity</code></p>
<p>And shell into it:</p>
<p><code>singularity shell eduardwisernig-testSingularity-master.simg</code></p>
<p>One can successfully set up singularity on a macOS platform using vagrant using the method described below:</p>
<p><code><a href="http://singularity.lbl.gov/install-mac#option-1-singularityware-vagrant-box">http://singularity.lbl.gov/install-mac#option-1-singularityware-vagrant-box</a></code></p>
<p>For more information about Virtualbox, please visit:</p>
<p><code><a href="https://www.virtualbox.org/wiki/VirtualBox">https://www.virtualbox.org/wiki/VirtualBox</a></code></p>
<p>For more information about Vagrant, please visit:</p>
<p><code><a href="https://www.vagrantup.com/intro/index.html">https://www.vagrantup.com/intro/index.html</a></code></p>
<p>Regardless of wether you have your own immediate environment set up or if you are shelled into our container, now you can get ready to start using the model.</p>
<h2>Github</h2>
<h2>Singularity-hub</h2>
<h1>Disclaimer</h1>
<p>Some of the text used in this file is copied and pasted in from journal papers or other sources. While not referenced individually, all the original sources can be found in the <em>References</em> section.</p>
<h1>References</h1>
<p><code><a href="http://journals.ametsoc.org/doi/pdf/10.1175/BAMS-D-15-00255.1">http://journals.ametsoc.org/doi/pdf/10.1175/BAMS-D-15-00255.1</a></code> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 23 2018 14:22:51 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
