<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CLASSIC: src/CLASSIC.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('CLASSIC_8F90.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">CLASSIC.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Principle driver program to run CLASSIC in stand-alone mode using specified boundary conditions and atmospheric forcing. Depending upon the compiler options chosen, this program will either run in MPI mode for use on parallel computing environments or in serial mode for use in running at single sites.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a62220e741441754452847a4706bcae25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62220e741441754452847a4706bcae25"></a>
program&#160;</td><td class="memItemRight" valign="bottom"><b>classic</b></td></tr>
<tr class="separator:a62220e741441754452847a4706bcae25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c7b8492b947781685fedee78c9037d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CLASSIC_8F90.html#a23c7b8492b947781685fedee78c9037d">processlandcells</a></td></tr>
<tr class="memdesc:a23c7b8492b947781685fedee78c9037d"><td class="mdescLeft">&#160;</td><td class="mdescRight">First initialize the MPI and PnetCDF session. Ignored if run in serial mode.  <a href="#a23c7b8492b947781685fedee78c9037d">More...</a><br /></td></tr>
<tr class="separator:a23c7b8492b947781685fedee78c9037d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f09ba230f1f1552651ad18d9d504b3e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f09ba230f1f1552651ad18d9d504b3e"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>initializeparallelenvironment</b></td></tr>
<tr class="separator:a4f09ba230f1f1552651ad18d9d504b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Principle driver program to run CLASSIC in stand-alone mode using specified boundary conditions and atmospheric forcing. Depending upon the compiler options chosen, this program will either run in MPI mode for use on parallel computing environments or in serial mode for use in running at single sites. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a23c7b8492b947781685fedee78c9037d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine classic::processlandcells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First initialize the MPI and PnetCDF session. Ignored if run in serial mode. </p>
<p>Next load the job options file. This first parses the command line arguments. Then all model switches are read in from a namelist file. This sets up the run options and points to input files as needed. Then load the run setup information based on the metadata in the initialization netcdf file. The bounds given as an argument to CLASSIC are used to find the start points (srtx and srty) in the netcdf file, placing the gridcell on the domain of the input/output netcdfs. In read_modelsetup we use the netcdf to set the nmos (number of tiles), ignd (number of soil layers),and ilg (number of latitude points times nmos, which defaults to nmos in offline mode) constants. It also opens the initial conditions file that is used below in read_initialstate as well as the restart file that is written to later. Prepare all of the global parameters such as those in CLASSD and <a class="el" href="namespacectem__params.html" title="Contains CTEM globally accessible parameters. ">ctem_params</a> which are read from a namelist file. The output files are created based on the model switches in the joboptions file and the xml file that describes the metadata for each output file. The loadoutputDescriptor parses the xml file and creates a data structure to allow us to make all of the netcdf output files, one per variable per time period (daily, monthly, etc.). Generate the output files based on options in the joboptions file and the parameters of the initilization netcdf file. Run model over the land grid cells, in parallel or serial Close all of the output netcdf files and the restart file (these were written to so need to ensure buffer is flushed) </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="CLASSIC_8F90.html">CLASSIC.F90</a></li>
    <li class="footer">Generated on Thu Oct 26 2017 11:36:03 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
