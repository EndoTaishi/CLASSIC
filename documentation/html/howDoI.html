<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CLASSIC: How do I ... / Something has gone wrong!</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
   <div id="projectbrief">Canadian Land Surface Scheme including Biogeochemical Cycles</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('howDoI.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">How do I ... / Something has gone wrong! </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li><a class="el" href="howDoI.html#chgSoil">Change the number/depth/etc of soil layers?</a></li>
<li><a class="el" href="howDoI.html#failStart">My run starts and I get an immediate fail!</a></li>
<li><a class="el" href="howDoI.html#makeClean">My run won't compile but I didn't do anything I can think of.</a></li>
<li><a class="el" href="howDoI.html#soilColourIndex">initFileConverter tells me I need a soil colour index</a> <hr/>
</li>
</ol>
<h1><a class="anchor" id="chgSoil"></a>
Change the number/depth/etc of soil layers?</h1>
<p>Information about the soil layers is taken in from the initialization netcdf file. <a class="el" href="namespacemodel__state__drivers.html#a9082d4f86f78f0dca4f7e3ed00c55b02" title="Reads in the model setup from the netcdf initialization file. The number of latitudes is always 1 off...">model_state_drivers::read_modelsetup</a> reads the netcdf for the number of soil layers (ignd). The ZBOT variable in the intialization file is the depth to the bottom of each layer. So change the initialization file for the number and depths of the soil layers as required and CLASSIC will simply read them in.</p>
<h1><a class="anchor" id="failStart"></a>
My run starts and I get an immediate fail!</h1>
<p>If you start a new run and it immediately fails with an output something like: </p><pre class="fragment">    Singularity jormelton-containerCLASSIC-master-latest.simg:~/Documents/CLASSIC&gt; bin/CLASSIC configurationFiles/template_job_options_file.txt 254.85/53.98
     in process           0           1           1   254.84999999999999        53.979999999999997                1           1           1           1
      CANOPY ENERGY BALANCE         1       8092.77620036       8077.49643236
             0.000000       1.875648      -2.045030      -0.189964       0.000000    8073.385790
             0.000000       1.339229     257.925000
     died on   254.84999999999999        53.979999999999997 
</pre><p>This is a general indication of a problem in your initialization file. Often it is fixed by setting snow/liquid in the canopy to zero (see <a class="el" href="basicInputs.html#initPhysProgVar">Initialization of Physics Prognostic Variables</a>). You may also get snow energy/water balance failing, again look to <a class="el" href="basicInputs.html#initPhysProgVar">Initialization of Physics Prognostic Variables</a> for advice with setup.</p>
<h1><a class="anchor" id="makeClean"></a>
My run won't compile but I didn't do anything I can think of.</h1>
<p>Sometimes you need to run a 'make clean' to clean out old .mod and .o files that might be causing issues. Do that and then recompile.</p>
<h1><a class="anchor" id="soilColourIndex"></a>
initFileConverter tells me I need a soil colour index</h1>
<p>Soil colour index is described in <a class="el" href="basicInputs.html#soilData">Input Soil Data</a> and used in <a class="el" href="CLASSB_8f.html" title="Assigns thermal and hydraulic properties to soil layers based on sand/clay content, or soil type. Also calculates permeable thickness of soil layers, and wet and dry surface albedo for mineral soils. ">CLASSB.f</a>. A global file of soil colour index produced by Peter Lawrence (NCAR) can be obtained from <a href="ftp://ftp.cccma.ec.gc.ca/pub/jmelton/mksrf_soilcol_global_c090324.nc">ftp://ftp.cccma.ec.gc.ca/pub/jmelton/mksrf_soilcol_global_c090324.nc</a></p>
<h1><a class="anchor" id="windowsEndings"></a>
Gotcha for Windows users</h1>
<p>Text files created on DOS/Windows machines have different line endings than files created on Unix/Linux. DOS uses carriage return and line feed ("\r\n") as a line ending, which Unix uses just line feed ("\n"). You need to be careful about transferring files between Windows machines and Unix machines to make sure the line endings are translated properly.(from <a href="http://www.cs.toronto.edu/~krueger/csc209h/tut/line-endings.html">http://www.cs.toronto.edu/~krueger/csc209h/tut/line-endings.html</a>)</p>
<p>Any CLASSIC tool that reads in ASCII expects the Linux/Unix line endings. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">CLASSIC main page</a></li>
    <li class="footer">Generated on Tue Mar 12 2019 15:42:14 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
