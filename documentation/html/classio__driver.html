<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>CLASSIC: io_driver Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLASSIC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Types</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classio__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="moduleio__driver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">io_driver Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Central module that handles all CTEM preparation and writing of output files.  
 <a href="classio__driver.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d999fe9fb1ae10b2519bc31d25736a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d999fe9fb1ae10b2519bc31d25736a6"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a5d999fe9fb1ae10b2519bc31d25736a6">class_daily_aw</a> (lonLocalIndex, latLocalIndex, iday, nltest, nmtest, sbc, delt, ncount, nday, lastDOY, realyr)</td></tr>
<tr class="memdesc:a5d999fe9fb1ae10b2519bc31d25736a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumaltes and writes the daily physics variables. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a daily value. The pointer to the daily data structures (in <a class="el" href="classclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. <br /></td></tr>
<tr class="separator:a5d999fe9fb1ae10b2519bc31d25736a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a1f7f3de220ea0bc217c41549c11140a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f7f3de220ea0bc217c41549c11140a5"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a1f7f3de220ea0bc217c41549c11140a5">class_hh_w</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, ncount, nday, iday, realyr, SBC, DELT, TFREZ)</td></tr>
<tr class="memdesc:a1f7f3de220ea0bc217c41549c11140a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares and writes the CLASS (physics) half hourly file. <br /></td></tr>
<tr class="separator:a1f7f3de220ea0bc217c41549c11140a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a0fb9cfacedc6fd592e0bd1b79f76a02b"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a0fb9cfacedc6fd592e0bd1b79f76a02b">class_monthly_aw</a> (lonLocalIndex, latLocalIndex, IDAY, realyr, NCOUNT, NDAY, SBC, DELT, nltest, nmtest, TFREZ, ACTLYR, FTABLE, lastDOY)</td></tr>
<tr class="memdesc:a0fb9cfacedc6fd592e0bd1b79f76a02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the monthly physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="classclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls.  <a href="#a0fb9cfacedc6fd592e0bd1b79f76a02b">More...</a><br /></td></tr>
<tr class="separator:a0fb9cfacedc6fd592e0bd1b79f76a02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ae58a3ed6b830fa109203ca9f5ff4c7cf"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#ae58a3ed6b830fa109203ca9f5ff4c7cf">class_annual_aw</a> (lonLocalIndex, latLocalIndex, IDAY, realyr, NCOUNT, NDAY, SBC, DELT, nltest, nmtest, ACTLYR, FTABLE, lastDOY)</td></tr>
<tr class="memdesc:ae58a3ed6b830fa109203ca9f5ff4c7cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the annual physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce annuals values. The pointer to the annual data structures (in <a class="el" href="classclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls.  <a href="#ae58a3ed6b830fa109203ca9f5ff4c7cf">More...</a><br /></td></tr>
<tr class="separator:ae58a3ed6b830fa109203ca9f5ff4c7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a8078e455d2f7f991c19f1df3c90e2d1e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a8078e455d2f7f991c19f1df3c90e2d1e">ctem_daily_aw</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, iday, ncount, nday, FAREROT, realyr, grclarea, ipeatlandrow)</td></tr>
<tr class="memdesc:a8078e455d2f7f991c19f1df3c90e2d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write the daily biogeochemical outputs.  <a href="#a8078e455d2f7f991c19f1df3c90e2d1e">More...</a><br /></td></tr>
<tr class="separator:a8078e455d2f7f991c19f1df3c90e2d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a6b430163add59476ebfc5cebc4560c93"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a6b430163add59476ebfc5cebc4560c93">ctem_monthly_aw</a> (lonLocalIndex, latLocalIndex, nltest, nmtest, iday, FAREROT, realyr, nday, lastDOY)</td></tr>
<tr class="memdesc:a6b430163add59476ebfc5cebc4560c93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the monthly CTEM outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="classctem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls.  <a href="#a6b430163add59476ebfc5cebc4560c93">More...</a><br /></td></tr>
<tr class="separator:a6b430163add59476ebfc5cebc4560c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a3775c33b53cdfc295c8a29d6caaa2adb"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classio__driver.html#a3775c33b53cdfc295c8a29d6caaa2adb">ctem_annual_aw</a> (lonLocalIndex, latLocalIndex, iday, imonth, realyr, nltest, nmtest, FAREROT, lastDOY)</td></tr>
<tr class="memdesc:a3775c33b53cdfc295c8a29d6caaa2adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate and write out the annual biogeochemical (CTEM) outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce annual values. The pointer to the annual data structures (in <a class="el" href="classctem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls.  <a href="#a3775c33b53cdfc295c8a29d6caaa2adb">More...</a><br /></td></tr>
<tr class="separator:a3775c33b53cdfc295c8a29d6caaa2adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Central module that handles all CTEM preparation and writing of output files. </p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="ae58a3ed6b830fa109203ca9f5ff4c7cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_driver::class_annual_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>IDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NCOUNT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>SBC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>DELT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>ACTLYR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>FTABLE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the annual physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce annuals values. The pointer to the annual data structures (in <a class="el" href="classclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. </p>
<p>Accumulate output data for yearly averaged fields for class grid-mean. for both parallel mode and stand alone mode</p>
<p>ADD INITIALIZTION FOR YEARLY ACCUMULATED ARRAYS</p>
<p>IDAY.EQ.365/366 .AND. NDAY </p>

</div>
</div>
<a class="anchor" id="a0fb9cfacedc6fd592e0bd1b79f76a02b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_driver::class_monthly_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>IDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NCOUNT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>NDAY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>SBC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>DELT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>TFREZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>ACTLYR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>FTABLE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the monthly physics outputs. These are kept in pointer structures as this subroutine is called each physics timestep and we increment the timestep values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="classclass__statevars.html" title="Contains the physics variable type structures. ">class_statevars</a>) keeps the data between calls. </p>
<p>Accumulate output data for monthly averaged fields for class grid-mean. for both parallel mode and stand alone mode </p>

</div>
</div>
<a class="anchor" id="a3775c33b53cdfc295c8a29d6caaa2adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_driver::ctem_annual_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>imonth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>FAREROT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the annual biogeochemical (CTEM) outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce annual values. The pointer to the annual data structures (in <a class="el" href="classctem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls. </p>
<p>Accumulate yearly outputs</p>
<p>Accumulate the variables at the per PFT level</p>
<p>Also do the bare fraction amounts</p>
<p>Accumulate the variables at the per tile level</p>
<p>The pools are looked at just at the end of the year.</p>
<p>Add values to the per tile vars</p>
<p>Add values to the per gridcell vars</p>
<p>Write to annual output files:</p>
<p>First write out the per gridcell values</p>
<p>Write out the per tile values</p>
<p>Reset all annual vars in preparation for next year </p>

</div>
</div>
<a class="anchor" id="a8078e455d2f7f991c19f1df3c90e2d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_driver::ctem_daily_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ncount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>FAREROT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>grclarea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>ipeatlandrow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write the daily biogeochemical outputs. </p>
<p>First some unit conversions:</p>
<p>Now for the bare fraction of the grid cell.</p>
<p>Aggregate to the tile avg vars:</p>
<p>Do the bare ground also:</p>
<p>Calculation of grid averaged variables</p>
<p>Write grid average values </p>

</div>
</div>
<a class="anchor" id="a6b430163add59476ebfc5cebc4560c93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public io_driver::ctem_monthly_aw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lonLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>latLocalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nltest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nmtest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>FAREROT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>realyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lastDOY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate and write out the monthly CTEM outputs. These are kept in pointer structures as this subroutine is called daily and we increment the daily values to produce a monthly value. The pointer to the monthly data structures (in <a class="el" href="classctem__statevars.html" title="Contains the biogeochemistry-related variable type structures. ">ctem_statevars</a>) keeps the data between calls. </p>
<hr/>
<p>Accumulate monthly outputs</p>
<p>Accumulate monthly outputs at the per PFT level.</p>
<p>Also do the bare ground</p>
<p>Accumulate monthly outputs at the per tile level.</p>
<p>take mean wind speed and convert to km/h</p>
<p>Do the mid-month variables (these are not accumulated, we just keep the mid month value for printing in the monthly file)</p>
<p>Do the bare fraction too</p>
<p>Now find the per tile values:</p>
<p>Also add in the bare fraction contributions.</p>
<p>Now find the gridcell level values:</p>
<p>Do the end of month variables</p>
<p>Convert some quantities into per day values</p>
<p>Find the monthly outputs at the per tile level from the outputs at the per PFT level</p>
<p>Find the monthly outputs at the per grid cell level from the outputs at the per tile level</p>
<p>Reset all end of month accumulated arrays </p>

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li>src/<a class="el" href="io__driver_8f90.html">io_driver.f90</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classio__driver.html">io_driver</a></li>
    <li class="footer">Generated on Mon Dec 11 2017 15:31:01 for CLASSIC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
