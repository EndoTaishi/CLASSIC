\hypertarget{SNOADD_8f}{}\section{S\+N\+O\+A\+D\+D.\+f File Reference}
\label{SNOADD_8f}\index{S\+N\+O\+A\+D\+D.\+f@{S\+N\+O\+A\+D\+D.\+f}}


Purpose\+: Add snow incident on the ground surface to the snow pack.  


\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{SNOADD_8f_af7d261f12e703bc9bfc7bd0a543d51ae}{snoadd} (A\+L\+B\+S\+N\+O, T\+S\+N\+O\+W, R\+H\+O\+S\+N\+O, Z\+S\+N\+O\+W, H\+C\+P\+S\+N\+O, H\+T\+C\+S, F\+I, S, T\+S, R\+H\+O\+S\+N\+I, W\+S\+N\+O\+W, I\+L\+G, I\+L1, I\+L2, J\+L)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Purpose\+: Add snow incident on the ground surface to the snow pack. 



\subsection{Function/\+Subroutine Documentation}
\hypertarget{SNOADD_8f_af7d261f12e703bc9bfc7bd0a543d51ae}{}\index{S\+N\+O\+A\+D\+D.\+f@{S\+N\+O\+A\+D\+D.\+f}!snoadd@{snoadd}}
\index{snoadd@{snoadd}!S\+N\+O\+A\+D\+D.\+f@{S\+N\+O\+A\+D\+D.\+f}}
\subsubsection[{snoadd}]{\setlength{\rightskip}{0pt plus 5cm}subroutine snoadd (
\begin{DoxyParamCaption}
\item[{real, dimension(ilg)}]{A\+L\+B\+S\+N\+O, }
\item[{real, dimension (ilg)}]{T\+S\+N\+O\+W, }
\item[{real, dimension(ilg)}]{R\+H\+O\+S\+N\+O, }
\item[{real, dimension (ilg)}]{Z\+S\+N\+O\+W, }
\item[{real, dimension(ilg)}]{H\+C\+P\+S\+N\+O, }
\item[{real, dimension  (ilg)}]{H\+T\+C\+S, }
\item[{real, dimension    (ilg)}]{F\+I, }
\item[{real, dimension     (ilg)}]{S, }
\item[{real, dimension    (ilg)}]{T\+S, }
\item[{real, dimension(ilg)}]{R\+H\+O\+S\+N\+I, }
\item[{real, dimension (ilg)}]{W\+S\+N\+O\+W, }
\item[{integer}]{I\+L\+G, }
\item[{integer}]{I\+L1, }
\item[{integer}]{I\+L2, }
\item[{integer}]{J\+L}
\end{DoxyParamCaption}
)}\label{SNOADD_8f_af7d261f12e703bc9bfc7bd0a543d51ae}

\begin{DoxyParams}{Parameters}
{\em albsno} & Albedo of snow \mbox{[} \mbox{]}\\
\hline
{\em tsnow} & Temperature of the snow pack $[C] (T_s)$\\
\hline
{\em rhosno} & Density of snow pack $[kg m^{-3}] (\rho_s)$\\
\hline
{\em zsnow} & Depth of snow pack $[m] (z_s)$\\
\hline
{\em hcpsno} & Heat capacity of snow pack $[J m^{-3} K^{-1}] (C_s)$\\
\hline
{\em htcs} & Internal energy change of snow pack due to conduction and/or change in mass $[W m^{-2}] (I_s)$\\
\hline
{\em fi} & Fractional coverage of subarea in question on modelled area $[ ] (X_i)$\\
\hline
{\em s} & Snowfall rate incident on snow pack $[m s^{-1}]$\\
\hline
{\em ts} & Temperature of snowfall \mbox{[}C\mbox{]}\\
\hline
{\em rhosni} & Density of fresh snow $[kg m^{-3}]$\\
\hline
{\em wsnow} & Liquid water content of snow pack $[kg m^{-2}] (w_s)$ \\
\hline
\end{DoxyParams}
The change of internal energy H\+T\+C\+S of the snow pack as a result of the snowfall added to it is calculated as the difference in Is between the beginning and end of the subroutine\+:

$\Delta I_s = X_i \Delta [C_s z_s T_s] / \Delta t$

where $C_s$ represents the volumetric heat capacity of the snow pack, $T_s$ its temperature, $\Delta$ the length of the time step, and $X_i$ the fractional coverage of the subarea under consideration relative to the modelled area.

The amount of snow incident at the given time step, S\+N\+O\+F\+A\+L, is calculated from S and the timestep length D\+E\+L\+T. If S\+N\+O\+F\+A\+L $\geq$ 0.\+1 mm, the snow albedo is set to the fresh snow value of 0.\+84. Otherwise, if the snow is falling on bare ground, its initial albedo is set to the old snow value of 0.\+50. The heat capacity of the precipitating snow, H\+C\+P\+S\+N\+P, is calculated from the fresh snow density R\+H\+O\+S\+N\+I and the heat capacity and density of ice. The new temperature of the snow pack is calculated as a weighted average of its old temperature, weighted by the snow depth Z\+S\+N\+O\+W and heat capacity H\+C\+P\+S\+N\+O, and the snowfall temperature, weighted by S\+N\+O\+F\+A\+L and H\+C\+P\+S\+N\+P. The new density of snow is calculated as a weighted average of the original density R\+H\+O\+S\+N\+O and R\+H\+O\+S\+N\+I, and the new snow depth is calculated as Z\+S\+N\+O\+W + S\+N\+O\+F\+A\+L. Finally, the new heat capacity of the snow pack is obtained from the heat capacities of ice and water $C_i$ and $C_w$, the snow, ice and water densities $\rho_s$ $rho_i$, and $\rho_w$, and the water content and depth of the snow pack $w_s$ and $z_s$, as\+:

$C_s = C_i [ \rho_s /\rho_i ] + C_w w_s /[\rho_w z_s]$

Here is the caller graph for this function\+:
% FIG 0


