\hypertarget{group__disturbance__scheme__burntobare}{}\section{Disturbance\+\_\+scheme\+\_\+burntobare}
\label{group__disturbance__scheme__burntobare}\index{Disturbance\+\_\+scheme\+\_\+burntobare@{Disturbance\+\_\+scheme\+\_\+burntobare}}
\begin{DoxyCompactItemize}
\item 
subroutine, public \hyperlink{group__disturbance__scheme__burntobare_gae72fa0c94541c3e88a45d71f2442be9c}{disturbance\+\_\+scheme\+::burntobare} (il1, il2, nilg, sort, pvgbioms, pgavltms, pgavscms, fcancmx, burnvegf, stemmass, rootmass, gleafmas, bleafmas, litrmass, soilcmas, pstemmass, pgleafmass, nppveg)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Function/\+Subroutine Documentation}
\hypertarget{group__disturbance__scheme__burntobare_gae72fa0c94541c3e88a45d71f2442be9c}{}\index{Disturbance\+\_\+scheme\+\_\+burntobare@{Disturbance\+\_\+scheme\+\_\+burntobare}!burntobare@{burntobare}}
\index{burntobare@{burntobare}!Disturbance\+\_\+scheme\+\_\+burntobare@{Disturbance\+\_\+scheme\+\_\+burntobare}}
\subsubsection[{burntobare}]{\setlength{\rightskip}{0pt plus 5cm}subroutine, public disturbance\+\_\+scheme\+::burntobare (
\begin{DoxyParamCaption}
\item[{integer, intent(in)}]{il1, }
\item[{integer, intent(in)}]{il2, }
\item[{integer, intent(in)}]{nilg, }
\item[{integer, dimension(icc), intent(in)}]{sort, }
\item[{real, dimension(nilg), intent(in)}]{pvgbioms, }
\item[{real, dimension(nilg), intent(in)}]{pgavltms, }
\item[{real, dimension(nilg), intent(in)}]{pgavscms, }
\item[{real, dimension(nilg,icc), intent(inout)}]{fcancmx, }
\item[{real, dimension(nilg,icc), intent(in)}]{burnvegf, }
\item[{real, dimension(nilg,icc), intent(inout)}]{stemmass, }
\item[{real, dimension(nilg,icc), intent(inout)}]{rootmass, }
\item[{real, dimension(nilg,icc), intent(inout)}]{gleafmas, }
\item[{real, dimension(nilg,icc), intent(inout)}]{bleafmas, }
\item[{real, dimension(nilg,iccp1), intent(inout)}]{litrmass, }
\item[{real, dimension(nilg,iccp1), intent(inout)}]{soilcmas, }
\item[{real, dimension(nilg,icc), intent(in)}]{pstemmass, }
\item[{real, dimension(nilg,icc), intent(in)}]{pgleafmass, }
\item[{real, dimension(nilg,icc), intent(inout)}]{nppveg}
\end{DoxyParamCaption}
)}\label{group__disturbance__scheme__burntobare_gae72fa0c94541c3e88a45d71f2442be9c}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em nilg} & no. of grid cells in latitude circle (this is passed in as either ilg or nlat depending on mos/comp)\\
\hline
\mbox{\tt in}  & {\em sort} & index for correspondence between 9 ctem pfts and size 12 of parameter vectors\\
\hline
\mbox{\tt in}  & {\em pvgbioms} & initial veg biomass\\
\hline
\mbox{\tt in}  & {\em pgavltms} & initial litter mass\\
\hline
\mbox{\tt in}  & {\em pgavscms} & initial soil c mass\\
\hline
\mbox{\tt in,out}  & {\em fcancmx} & initial fractions of the ctem pfts\\
\hline
\mbox{\tt in}  & {\em burnvegf} & per P\+F\+T fraction burned of that P\+F\+Ts area\\
\hline
\mbox{\tt in,out}  & {\em gleafmas} & green leaf carbon mass for each of the 9 ctem pfts, $kg c/m^2$\\
\hline
\mbox{\tt in,out}  & {\em bleafmas} & brown leaf carbon mass for each of the 9 ctem pfts, $kg c/m^2$\\
\hline
\mbox{\tt in,out}  & {\em stemmass} & stem carbon mass for each of the 9 ctem pfts, $kg c/m^2$\\
\hline
\mbox{\tt in,out}  & {\em rootmass} & roots carbon mass for each of the 9 ctem pfts, $kg c/m^2$\\
\hline
\mbox{\tt in,out}  & {\em nppveg} & npp for individual pfts, $u-mol co_2/m^2.sec$\\
\hline
\mbox{\tt in,out}  & {\em soilcmas} & soil carbon mass for each of the 9 ctem pfts + bare, $kg c/m^2$\\
\hline
\mbox{\tt in,out}  & {\em litrmass} & litter carbon mass for each of the 9 ctem pfts + bare, $kg c/m^2$\\
\hline
\mbox{\tt in}  & {\em pstemmass} & grid averaged stemmass prior to disturbance, $kg c/m^2$\\
\hline
\mbox{\tt in}  & {\em pgleafmass} & grid averaged rootmass prior to disturbance, $kg c/m^2$ \\
\hline
\end{DoxyParams}
Do some initializations

Account for disturbance creation of bare ground. This occurs with relatively low frequency and is P\+F\+T dependent. We must adjust the amount of bare ground created to ensure that we do not increase the density of the remaining vegetation.

Test the pftfraca to ensure it does not cause densification of the exisiting biomass Trees compare the stemmass while grass compares the root mass.

the pstemmass is from before the fire occurred, i.\+e. no thinning!

adjust the bare frac to accomodate for the changes

the pgleafmass is from before the fire occurred, i.\+e. no thinning!

adjust the bare frac to accomodate for the changes

Soil and litter carbon are treated such that we actually transfer the carbon to the bare fraction since it would remain in place as a location was devegetated In doing so we do not adjust the litter or soilc density on the remaining vegetated fraction. But we do adjust it on the bare fraction to ensure our carbon balance works out.

only do checks if we actually shifted fractions here.

check if total grid average biomass density is same before and after adjusting fractions

only do checks if we actually shifted fractions here.

then add the bare ground in. 

Here is the call graph for this function\+:
% FIG 0




Here is the caller graph for this function\+:
% FIG 1


