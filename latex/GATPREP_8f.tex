\hypertarget{GATPREP_8f}{}\section{G\+A\+T\+P\+R\+E\+P.\+f File Reference}
\label{GATPREP_8f}\index{G\+A\+T\+P\+R\+E\+P.\+f@{G\+A\+T\+P\+R\+E\+P.\+f}}


Purpose\+: Assign values to pointer vectors relating the location of elements on the \char`\"{}gathered\char`\"{} variable vectors to elements on the original two-\/dimensional arrays (latitude circle x mosaic tiles) for land grid cells.  


\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{GATPREP_8f_a4f34017ff2fe00ba9298f7c75c23492a}{gatprep} (I\+L\+M\+O\+S, J\+L\+M\+O\+S, I\+W\+M\+O\+S, J\+W\+M\+O\+S, N\+M\+L, N\+M\+W, G\+C\+R\+O\+W, F\+A\+R\+E\+A, M\+O\+S\+I\+D, N\+L, N\+M, I\+L\+G, I\+L1, I\+L2, I\+M)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Purpose\+: Assign values to pointer vectors relating the location of elements on the \char`\"{}gathered\char`\"{} variable vectors to elements on the original two-\/dimensional arrays (latitude circle x mosaic tiles) for land grid cells. 



\subsection{Function/\+Subroutine Documentation}
\hypertarget{GATPREP_8f_a4f34017ff2fe00ba9298f7c75c23492a}{}\index{G\+A\+T\+P\+R\+E\+P.\+f@{G\+A\+T\+P\+R\+E\+P.\+f}!gatprep@{gatprep}}
\index{gatprep@{gatprep}!G\+A\+T\+P\+R\+E\+P.\+f@{G\+A\+T\+P\+R\+E\+P.\+f}}
\subsubsection[{gatprep}]{\setlength{\rightskip}{0pt plus 5cm}subroutine gatprep (
\begin{DoxyParamCaption}
\item[{integer, dimension  (ilg)}]{I\+L\+M\+O\+S, }
\item[{integer, dimension  (ilg)}]{J\+L\+M\+O\+S, }
\item[{integer, dimension  (ilg)}]{I\+W\+M\+O\+S, }
\item[{integer, dimension  (ilg)}]{J\+W\+M\+O\+S, }
\item[{integer}]{N\+M\+L, }
\item[{integer}]{N\+M\+W, }
\item[{real, dimension (nl)}]{G\+C\+R\+O\+W, }
\item[{real, dimension (nl,nm)}]{F\+A\+R\+E\+A, }
\item[{integer, dimension (nl,nm)}]{M\+O\+S\+I\+D, }
\item[{integer}]{N\+L, }
\item[{integer}]{N\+M, }
\item[{integer}]{I\+L\+G, }
\item[{integer}]{I\+L1, }
\item[{integer}]{I\+L2, }
\item[{integer}]{I\+M}
\end{DoxyParamCaption}
)}\label{GATPREP_8f_a4f34017ff2fe00ba9298f7c75c23492a}

\begin{DoxyParams}{Parameters}
{\em nml} & Total number of mosaic tiles in land surface gather vectors\\
\hline
{\em nmw} & Total number of mosaic tiles in inland water gather vectors\\
\hline
{\em nl} & Hard-\/coded maximum number of grid cells\\
\hline
{\em nm} & Hard-\/coded maximum number of mosaic tiles\\
\hline
{\em ilg} & Hard-\/coded maximum number of elements in the gathered vectors\\
\hline
{\em im} & Maximum number of mosaic tiles within the grid cells in the array under consideration\\
\hline
{\em ilmos} & Index of grid cell corresponding to current element of gathered vector of land surface variables \mbox{[} \mbox{]}\\
\hline
{\em jlmos} & Index of mosaic tile corresponding to current element of gathered vector of land surface variables \mbox{[} \mbox{]}\\
\hline
{\em iwmos} & Index of grid cell corresponding to current element of gathered vector of inland water body variables \mbox{[} \mbox{]}\\
\hline
{\em jwmos} & Index of mosaic tile corresponding to current element of gathered vector of inland water body variables \mbox{[} \mbox{]}\\
\hline
{\em gcrow} & Real number identifier indicating whether the grid cell is land (-\/1.\+0), sea ice (+1.0), or ocean (0.\+0)\\
\hline
{\em farea} & Fractional coverage of mosaic tile on grid cell \mbox{[} \mbox{]}\\
\hline
{\em mosid} & Mosaic tile type identifier (1 for land, 0 for inland water) \\
\hline
\end{DoxyParams}
A looping operation is performed over the latitude circle, or array of grid cells, under consideration. If the grid cell is a land one (G\+C\+R\+O\+W = -\/1.\+0), an additional internal loop is performed over all the mosaic tiles present. For each mosaic tile, if its fractional coverage is greater than zero, then if the mosaic type identifier M\+O\+S\+I\+D is equal to 1 (indicating land), the counter of total mosaic tiles in the land surface gather vectors, N\+M\+L, is incremented by one, and the elements of the vectors I\+L\+M\+O\+S and J\+L\+M\+O\+S corresponding to N\+M\+L are set to the indices of the current grid cell and mosaic tile respectively. If M\+O\+S\+I\+D is equal to zero (indicating inland water), the counter of total mosaic tiles in the inland water gather vectors, N\+M\+W, is incremented by one, and the elements of the vectors I\+W\+M\+O\+S and J\+W\+M\+O\+S corresponding to N\+M\+W are set to the indices of the current grid cell and mosaic tile respectively.