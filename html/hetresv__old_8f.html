<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CLASS-CTEM: hetresv_old.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLASS-CTEM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">hetresv_old.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Canadian Terrestrial Ecosystem Model (CTEM) Heterotrophic Respiration Subtoutine For Vegetated Fraction.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a7c85e7b43e5a20c6049f3fd703627461"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hetresv__old_8f.html#a7c85e7b43e5a20c6049f3fd703627461">hetresv</a> (fcan,fct, litrmass, soilcmas,il1,il2,tbar,thliq,sand,clay, roottemp,zbotw,sort,isand,</td></tr>
<tr class="separator:a7c85e7b43e5a20c6049f3fd703627461"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Canadian Terrestrial Ecosystem Model (CTEM) Heterotrophic Respiration Subtoutine For Vegetated Fraction. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a7c85e7b43e5a20c6049f3fd703627461"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine hetresv </td>
          <td>(</td>
          <td class="paramtype">real, dimension(ilg,icc)&#160;</td>
          <td class="paramname"><em>fcan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg)&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc+1)&#160;</td>
          <td class="paramname"><em>litrmass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc+1)&#160;</td>
          <td class="paramname"><em>soilcmas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>il1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>il2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>tbar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>thliq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>sand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>clay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,icc)&#160;</td>
          <td class="paramname"><em>roottemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>zbotw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(icc)&#160;</td>
          <td class="paramname"><em>sort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(ilg,ignd)&#160;</td>
          <td class="paramname"><em>isand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">il1</td><td>il1=1</td></tr>
    <tr><td class="paramname">il2</td><td>il2=ilg</td></tr>
    <tr><td class="paramname">sort</td><td>index for correspondence between 9 pfts and 12 values in the parameters vectors</td></tr>
    <tr><td class="paramname">fcan</td><td>fractional coverage of ctem's 9 pfts</td></tr>
    <tr><td class="paramname">fct</td><td>sum of all fcan, fcan &amp; fct are not used at this time but could be used at some later stage</td></tr>
    <tr><td class="paramname">litrmass</td><td>litter mass for the 9 pfts + bare in <img class="formulaInl" alt="$kg c/m^2$" src="form_614.png"/></td></tr>
    <tr><td class="paramname">tbar</td><td>soil temperature, k</td></tr>
    <tr><td class="paramname">soilcmas</td><td>soil carbon mass for the 9 pfts + bare in <img class="formulaInl" alt="$kg c/m^2$" src="form_614.png"/></td></tr>
    <tr><td class="paramname">thliq</td><td>liquid soil moisture content in 3 soil layers</td></tr>
    <tr><td class="paramname">sand</td><td>percentage sand</td></tr>
    <tr><td class="paramname">clay</td><td>percentage clay</td></tr>
    <tr><td class="paramname">roottemp</td><td>root temperature as estimated in mainres subroutine</td></tr>
    <tr><td class="paramname">zbotw</td><td>bottom of soil layers </td></tr>
  </table>
  </dd>
</dl>
<hr/>
<p> Constants and parameters are located in <a class="el" href="ctem__params_8f90.html" title="This module holds CTEM globally accessible parameters These parameters are used in all CTEM subroutin...">ctem_params.f90</a></p>
<p>parameters of the hyperbolic tan q10 formulation </p><hr/>
<p>initialize required arrays to zero</p>
<p>initialization ends </p><hr/>
<p>estimate temperature of the litter and soil carbon pools. litter temperature is weighted average of temperatue of top soil layer (where the stem and leaf litter sits) and root temperature, because litter pool is made of leaf, stem, and root litter.</p>
<p>estimation of soil carbon pool temperature is not straight forward. ideally soil c pool temperature should be set same as root temperature, since soil c profiles are similar to root profiles. but in the event when the roots die then we may run into trouble. so we find the temperature of the soil c pool assuming that soil carbon is exponentially distributed, just like roots. but rather than using the parameter of this exponential profile from our variable root distribution we use fixed vegetation-dependent parameters.</p>
<p>fraction of carbon in</p>
<p>soil layers</p>
<p>make sure we don't use temperatures of 2nd and 3rd soil layers if they are specified bedrock via sand -3 flag</p>
<p>third layer bed rock</p>
<p>second layer bed rock</p>
<p>find moisture scalar for soil c decomposition</p>
<p>this is modelled as function of logarithm of matric potential. we find values for all soil layers, and then find an average value based on fraction of carbon present in each layer. this makes moisture scalar a function of vegetation type.</p>
<p>set to large number so that ltrmoscl becomes 0.2</p>
<p>sand.eq.-3 or -4</p>
<p>make sure we don't use scmotrm of 2nd and 3rd soil layers if they are specified bedrock via sand -3 flag</p>
<p>third layer bed rock</p>
<p>second layer bed rock</p>
<p>find moisture scalar for litter decomposition</p>
<p>the difference between moisture scalar for litter and soil c is that the litter decomposition is not constrained by high soil moisture (assuming that litter is always exposed to air). in addition, we use moisture content of the top soil layer as a surrogate for litter moisture content. so we use only psi(i,1) calculated in loops 260 and 270 above.</p>
<p>use temperature of the litter and soil c pools, and their soil moisture scalars to find respiration rates from these pools</p>
<p>first find the q10 response function to scale base respiration rate from 15 c to current temperature, we do litter first</p>
<p>2.64 converts bsratelt from kg c/kg c.year to u-mol co2/kg c.s respiration from soil c pool</p>
<p>2.64 converts bsratesc from kg c/kg c.year to u-mol co2/kg c.s </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 30 2017 10:33:39 for CLASS-CTEM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
