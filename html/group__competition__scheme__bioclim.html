<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CLASS-CTEM Documentation: Competition_scheme_bioclim</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLASS-CTEM Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Competition_scheme_bioclim</div>  </div>
</div><!--header-->
<div class="contents">

<p>Canadian Terrestrial Ecosystem Model (CTEM) Bioclimatic Parameters Estimation Subroutine.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="memitem:ga63e17c7f18b8ab7e782acf1b3d957dd8"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__competition__scheme__bioclim.html#ga63e17c7f18b8ab7e782acf1b3d957dd8">competition_scheme::bioclim</a> (iday, ta, precip, netrad, il1, il2, nilg, tcurm, srpcuryr, dftcuryr, inibioclim, tmonth, anpcpcur, anpecur, gdd5cur, surmncur, defmncur, srplscur, defctcur, twarmm, tcoldm, gdd5, aridity, srplsmon, defctmon, anndefct, annsrpls, annpcp, dry_season_length)</td></tr>
<tr class="separator:ga63e17c7f18b8ab7e782acf1b3d957dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Canadian Terrestrial Ecosystem Model (CTEM) Bioclimatic Parameters Estimation Subroutine. </p>
<p>The mortality associated with bioclimatic criteria, <img class="formulaInl" alt="$m_{bioclim}$" src="form_943.png"/>, ensures that PFTs do not venture outside their bioclimatic envelopes. The bioclimatic criteria that determine PFT existence are listed in Table tab:pftparams} for tree PFTs. Bioclimatic limits are not used for the <img class="formulaInl" alt="$C_3$" src="form_135.png"/> and <img class="formulaInl" alt="$C_4$" src="form_136.png"/> grass PFTs. The bioclimatic limits represent physiological limits to PFT survival that are either not captured in the model or processes that are not sufficiently described by empirical observations to allow their parametrization. Some examples of the latter include a plant's resistance to frost damage and xylem cavitation limits due to moisture stress. The bioclimatic criteria include the minimum coldest month air temperature ( <img class="formulaInl" alt="$T^{cold}_{min}$" src="form_944.png"/>), the maximum coldest month air temperature ( <img class="formulaInl" alt="$T^{cold}_{max}$" src="form_945.png"/>), the maximum warmest month air temperature ( <img class="formulaInl" alt="$T^{warm}_{max}$" src="form_946.png"/>), the minimum number of annual growing degree days above <img class="formulaInl" alt="$5\,C$" src="form_140.png"/> ( <img class="formulaInl" alt="$GDD5_{min}$" src="form_141.png"/>), the minimum annual aridity index (ratio of potential evapotranspiration to precipitation; <img class="formulaInl" alt="$arid_{min}$" src="form_142.png"/>) and the minimum dry season length in a year ( <img class="formulaInl" alt="$dryseason_{min}$" src="form_143.png"/>), where the dry season length represents the number of consecutive months with precipitation less than potential evaporation. The bioclimatic indices are updated on a 25 year timescale ( <img class="formulaInl" alt="$T=25$" src="form_947.png"/>) such that the slowly changing value of a bioclimatic index <img class="formulaInl" alt="$X(t+1)$" src="form_948.png"/> for time <img class="formulaInl" alt="$t+1$" src="form_949.png"/> is updated using its previous year's value <img class="formulaInl" alt="$X(t)$" src="form_950.png"/> and its value <img class="formulaInl" alt="$x(t)$" src="form_951.png"/> for the current year as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \label{efold} X(t+1)=X(t)e^{-1/T} + x(t) (1 - e^{-1/T}). \]" src="form_149.png"/>
</p>
<p>Equation (efold}) implies that <img class="formulaInl" alt="$63\,{\%}$" src="form_150.png"/> of a sudden change in the value of a bioclimatic index <img class="formulaInl" alt="$\Delta x$" src="form_952.png"/> is reflected in <img class="formulaInl" alt="$X(t)$" src="form_950.png"/> in <img class="formulaInl" alt="$T$" src="form_953.png"/> years <img class="formulaInl" alt="$(1-e^{T(-1/T)}= 1-e^{-1} = 0.63)$" src="form_954.png"/>, while <img class="formulaInl" alt="$86\,{\%}$" src="form_154.png"/> of the change is reflected in <img class="formulaInl" alt="$2T$" src="form_955.png"/> years <img class="formulaInl" alt="$(1-e^{2T(-1/T)}= 1-e^{-2} = 0.86) $" src="form_1862.png"/>. </p>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="ga63e17c7f18b8ab7e782acf1b3d957dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public competition_scheme::bioclim </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(in)&#160;</td>
          <td class="paramname"><em>ta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(in)&#160;</td>
          <td class="paramname"><em>precip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(in)&#160;</td>
          <td class="paramname"><em>netrad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nilg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>tcurm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>srpcuryr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>dftcuryr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(inout)&#160;</td>
          <td class="paramname"><em>inibioclim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(12,nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>tmonth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>anpcpcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>anpecur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>gdd5cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>surmncur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>defmncur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>srplscur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>defctcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>twarmm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>tcoldm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>gdd5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>aridity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>srplsmon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>defctmon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>anndefct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>annsrpls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>annpcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(nilg), intent(inout)&#160;</td>
          <td class="paramname"><em>dry_season_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iday</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Find current month</p>
<p>Find if we are at end of month or not</p>
<p>Update monthly temperature for the current month, and other variables. at the end of the month we will have average of all daily temperatures for the current month.</p>
<p>If its the end of the month then store the monthly temperature and set tcurm equal to zero. also check if this month had water deficit or surplus</p>
<p>this loop doubles up the size of the "wet_dry_mon_index" matrix</p>
<p>If its the end of year, then find the temperature of the warmest and the coldest month</p>
<p>Update long term moving average of bioclimatic parameters in an e-folding sense </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 31 2016 14:29:32 for CLASS-CTEM Documentation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
